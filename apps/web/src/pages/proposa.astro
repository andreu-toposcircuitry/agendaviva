---
import Base from '../layouts/Base.astro';
---

<Base title="Proposa una activitat">
  <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <h1 class="text-4xl font-bold mb-8">Proposa una activitat</h1>

    <div class="card mb-8 bg-blue-50">
      <h2 class="text-xl font-bold mb-3">Com funciona?</h2>
      <ol class="list-decimal pl-5 space-y-2 text-gray-700">
        <li>Omple el formulari amb tanta informaci√≥ com puguis</li>
        <li>El nostre sistema d'IA processar√† la informaci√≥ i generar√† una fitxa</li>
        <li>El nostre equip revisar√† la proposta abans de publicar-la</li>
        <li>Rebr√†s un email quan l'activitat estigui publicada</li>
      </ol>
    </div>

    <form class="space-y-6">
      <!-- Basic info -->
      <section class="card">
        <h2 class="text-xl font-bold mb-4">Informaci√≥ b√†sica</h2>
        
        <div class="space-y-4">
          <div>
            <label for="nom" class="block font-medium mb-2">
              Nom de l'activitat *
            </label>
            <input
              type="text"
              id="nom"
              name="nom"
              required
              placeholder="Ex: Taller de rob√≤tica amb Lego"
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>

          <div>
            <label for="entitat" class="block font-medium mb-2">
              Nom de l'entitat
            </label>
            <input
              type="text"
              id="entitat"
              name="entitat"
              placeholder="Ex: Espai Cultural Granollers"
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>

          <div>
            <label for="descripcio" class="block font-medium mb-2">
              Descripci√≥ *
            </label>
            <textarea
              id="descripcio"
              name="descripcio"
              required
              rows="6"
              placeholder="Descriu l'activitat: qu√® es fa, per a qui √©s, com funciona, caracter√≠stiques importants..."
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            ></textarea>
            <p class="text-sm text-gray-600 mt-1">
              Inclou tota la informaci√≥ possible: edats, horaris, preu, metodologia, mida dels grups, etc.
            </p>
          </div>
        </div>
      </section>

      <!-- Contact info -->
      <section class="card">
        <h2 class="text-xl font-bold mb-4">Com contactar</h2>
        
        <div class="space-y-4">
          <div>
            <label for="web" class="block font-medium mb-2">
              Web o xarxa social
            </label>
            <input
              type="url"
              id="web"
              name="web"
              placeholder="https://..."
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>

          <div>
            <label for="telefon" class="block font-medium mb-2">
              Tel√®fon
            </label>
            <input
              type="tel"
              id="telefon"
              name="telefon"
              placeholder="93 XXX XX XX"
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>

          <div>
            <label for="email_activitat" class="block font-medium mb-2">
              Email de l'activitat
            </label>
            <input
              type="email"
              id="email_activitat"
              name="email_activitat"
              placeholder="activitat@exemple.cat"
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>
        </div>
      </section>

      <!-- Your contact -->
      <section class="card">
        <h2 class="text-xl font-bold mb-4">Les teves dades</h2>
        <p class="text-sm text-gray-600 mb-4">
          Per poder-te contactar si cal aclarir informaci√≥
        </p>
        
        <div class="space-y-4">
          <div>
            <label for="teu_nom" class="block font-medium mb-2">
              El teu nom
            </label>
            <input
              type="text"
              id="teu_nom"
              name="teu_nom"
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>

          <div>
            <label for="teu_email" class="block font-medium mb-2">
              El teu email *
            </label>
            <input
              type="email"
              id="teu_email"
              name="teu_email"
              required
              class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:border-primary-500"
            />
          </div>
        </div>
      </section>

      <!-- Submit -->
      <div class="card bg-gray-50">
        <p class="text-sm text-gray-600 mb-4">
          En enviar aquesta proposta acceptes que la informaci√≥ sigui processada i publicada 
          a Agenda Viva VO. Totes les dades s√≥n p√∫bliques excepte les teves dades personals 
          de contacte.
        </p>
        
        <button type="submit" class="btn btn-primary text-lg w-full">
          Enviar proposta
        </button>
      </div>
    </form>

    <!-- Tips -->
    <div class="mt-8 card bg-green-50">
      <h2 class="text-xl font-bold mb-3">üí° Consells per a una bona proposta</h2>
      <ul class="space-y-2 text-sm text-gray-700">
        <li>‚úì Inclou informaci√≥ sobre la mida dels grups</li>
        <li>‚úì Menciona si hi ha ritme flexible o adaptacions</li>
        <li>‚úì Especifica si l'ambient √©s tranquil o estimulant</li>
        <li>‚úì Indica si hi ha formaci√≥ espec√≠fica en neurodiversitat</li>
        <li>‚úì Explica si hi ha competici√≥ o √©s lliure</li>
      </ul>
      <p class="mt-3 text-sm">
        Aquesta informaci√≥ ajuda a calcular millor la puntuaci√≥ ND de l'activitat.
      </p>
    </div>
  </div>
</Base>

<script>
  // Handle form submission
  const form = document.querySelector('form');
  if (form) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const formData = new FormData(form);
      const data = Object.fromEntries(formData);
      
      try {
        // TODO: Implement API endpoint
        console.log('Form data:', data);
        alert('Gr√†cies per la teva proposta! La revisarem aviat i et contactarem.');
        form.reset();
      } catch (error) {
        console.error('Error submitting form:', error);
        alert('Hi ha hagut un error. Si us plau, intenta-ho m√©s tard.');
      }
    });
  }
</script>
